(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{409:function(v,_,t){"use strict";t.r(_);var s=t(14),r=Object(s.a)({},(function(){var v=this,_=v._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[_("h1",{attrs:{id:"前端性能优化的关键指标"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#前端性能优化的关键指标"}},[v._v("#")]),v._v(" 前端性能优化的关键指标")]),v._v(" "),_("p",[v._v("​\t\t性能优化的关键指标主要分为"),_("strong",[v._v("加载")]),v._v("、"),_("strong",[v._v("交互")]),v._v("和"),_("strong",[v._v("视觉稳定性")]),v._v("三个方面，目前大部分公司比较关注的主要是"),_("strong",[v._v("加载")]),v._v("指标，交互和视觉稳定性目前还没有成熟的采集方案和性能标准。")]),v._v(" "),_("h2",{attrs:{id:"加载"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#加载"}},[v._v("#")]),v._v(" 加载")]),v._v(" "),_("p",[v._v("​\t\t加载就是进入页面时，页面内容载入的过程。主要关注点在于白屏时间和首屏时间。")]),v._v(" "),_("h3",{attrs:{id:"白屏时间"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#白屏时间"}},[v._v("#")]),v._v(" 白屏时间")]),v._v(" "),_("ul",[_("li",[_("p",[v._v("指的是从输入内容回车（包括刷新、跳转等方式）后，到页面开始出现第一个字符的时间，标准时间是 300ms")])]),v._v(" "),_("li",[_("p",[v._v("导致白屏时间过长的因素")]),v._v(" "),_("ul",[_("li",[v._v("DNS 查询时间过长")]),v._v(" "),_("li",[v._v("建立 TCP 请求链接太慢")]),v._v(" "),_("li",[v._v("服务器处理请求速度太慢")]),v._v(" "),_("li",[v._v("客户端下载、解析。渲染时间过长")]),v._v(" "),_("li",[v._v("没有做 Gzip 压缩")]),v._v(" "),_("li",[v._v("缺乏本地离线化处理")])])])]),v._v(" "),_("h3",{attrs:{id:"首屏时间"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#首屏时间"}},[v._v("#")]),v._v(" 首屏时间")]),v._v(" "),_("p",[v._v("​\t\t从浏览器输入地址并回车后，到首屏内容"),_("strong",[v._v("渲染完毕")]),v._v("的时间，这期间不需要滚动鼠标或者下拉页面，否则无效。")]),v._v(" "),_("p",[v._v("​\t"),_("strong",[v._v("首屏时间 = 白屏时间 + 渲染时间")])]),v._v(" "),_("p",[v._v("​\t\t首屏时间可以进一步拆解为："),_("strong",[v._v("白屏时间")]),v._v("、"),_("strong",[v._v("数据接口响应时间")]),v._v("、"),_("strong",[v._v("图片加载资源时间")]),v._v("等，数据接口响应时间一般可以直接从后端服务中获取，前端不需要重复计算。")]),v._v(" "),_("p",[_("strong",[v._v("首屏时间的度量指标")]),v._v("：")]),v._v(" "),_("ul",[_("li",[_("strong",[v._v("用户平均首屏加载时间")]),v._v("：早期的标准，没有区分 2G / 3G / 4G / WiFi 等不同的网络环境。首屏时间在 1S 内的话，用户会感觉很快；如果首屏时间超过 2.5s 用户会感觉很慢。但是如果是在 1s 内打开页面，500ms 和 800ms 对用户来说没有什么差别，因为人对这么短的时间并不敏感。由于 2G / 3G 等弱网环境会严重影响首屏加载时间这个指标，所以使用平均首屏加载时间作为度量"),_("strong",[v._v("并不可靠")]),v._v("。")]),v._v(" "),_("li",[_("strong",[v._v("首屏加载时间中位数")]),v._v("：做正态分布，看分位值统计。比如P50（50 分位值）、P90（90分位值）、P99（99分位值）。如 P90 意思就是将所有首屏时间排序，排在第 99 位的首屏时间就是 P99。但是这种方式处理也很麻烦，所以后面引入了秒开率这个指标。")]),v._v(" "),_("li",[_("strong",[v._v("秒开率")]),v._v("：1S 内打开用户的占比。")])]),v._v(" "),_("h2",{attrs:{id:"交互"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#交互"}},[v._v("#")]),v._v(" 交互")]),v._v(" "),_("p",[v._v("​\t\t交互就是用户点击网站或APP的某个功能，页面给出的回应。比如我们点击 star 之后，star 标志会变色，这就是一个良好的交互。")]),v._v(" "),_("p",[v._v("交互的性能指标：")]),v._v(" "),_("ul",[_("li",[_("strong",[v._v("FID（First Input Delay）")]),v._v("：即"),_("strong",[v._v("首次输入延迟")]),v._v("，指标必须尽量小于 100ms。")]),v._v(" "),_("li",[_("strong",[v._v("PSI（Preceptual Speed Index）")]),v._v("：即"),_("strong",[v._v("视觉变化率")]),v._v("，衡量标准是小于 20%")])]),v._v(" "),_("h2",{attrs:{id:"视觉稳定性"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#视觉稳定性"}},[v._v("#")]),v._v(" 视觉稳定性")]),v._v(" "),_("p",[v._v("​\t\t视觉稳定性的指标主要是"),_("strong",[v._v("CLS（Cumulative Layout Shift）")]),v._v("，也就是布局偏移量，是指页面从一帧切换到另外一帧时，视线中不稳定元素的偏移情况")]),v._v(" "),_("p",[v._v("​\t\tCLS 比较前沿，目前还没有统一的标准，大部分公司很少关注，目前的采集方法只有使用 Google 的 "),_("strong",[v._v("Lighthouse")]),v._v(" 做本地采集，还没有其他好的方案")]),v._v(" "),_("p",[v._v("例如：")]),v._v(" "),_("p",[v._v("1、当我们准备点击播放按钮时，原来的播放按钮位置突然插入了一条广告，导致我们点击了广告，跳转到广告页面")]),v._v(" "),_("p",[v._v("2、当我们准备点击关闭弹窗时，弹窗突然移动了一段距离，导致我们没有点击到关闭按钮")])])}),[],!1,null,null,null);_.default=r.exports}}]);