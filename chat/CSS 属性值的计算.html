<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>CSS 属性值的计算过程 | Happyblog</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="基于 vuepress 的简易博客平台">
    
    <link rel="preload" href="/vuepress-blog/assets/css/0.styles.631b7830.css" as="style"><link rel="preload" href="/vuepress-blog/assets/js/app.f8677ea4.js" as="script"><link rel="preload" href="/vuepress-blog/assets/js/2.32f56e5c.js" as="script"><link rel="preload" href="/vuepress-blog/assets/js/1.a930a345.js" as="script"><link rel="preload" href="/vuepress-blog/assets/js/29.155d9866.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/js/10.ab76fc9b.js"><link rel="prefetch" href="/vuepress-blog/assets/js/11.8f72b06d.js"><link rel="prefetch" href="/vuepress-blog/assets/js/12.428f6f98.js"><link rel="prefetch" href="/vuepress-blog/assets/js/13.eb47b2b6.js"><link rel="prefetch" href="/vuepress-blog/assets/js/14.7257e695.js"><link rel="prefetch" href="/vuepress-blog/assets/js/15.bd1b03c3.js"><link rel="prefetch" href="/vuepress-blog/assets/js/16.7a561afc.js"><link rel="prefetch" href="/vuepress-blog/assets/js/17.cd516f79.js"><link rel="prefetch" href="/vuepress-blog/assets/js/18.42e9f2b1.js"><link rel="prefetch" href="/vuepress-blog/assets/js/19.4958156f.js"><link rel="prefetch" href="/vuepress-blog/assets/js/20.cd1f9a1c.js"><link rel="prefetch" href="/vuepress-blog/assets/js/21.e4fea2d1.js"><link rel="prefetch" href="/vuepress-blog/assets/js/22.0919633c.js"><link rel="prefetch" href="/vuepress-blog/assets/js/23.331c698f.js"><link rel="prefetch" href="/vuepress-blog/assets/js/24.5874fb5a.js"><link rel="prefetch" href="/vuepress-blog/assets/js/25.e56a5813.js"><link rel="prefetch" href="/vuepress-blog/assets/js/26.7e912fb0.js"><link rel="prefetch" href="/vuepress-blog/assets/js/27.aa11be6f.js"><link rel="prefetch" href="/vuepress-blog/assets/js/28.b8505e46.js"><link rel="prefetch" href="/vuepress-blog/assets/js/3.d7d8640a.js"><link rel="prefetch" href="/vuepress-blog/assets/js/30.80297b92.js"><link rel="prefetch" href="/vuepress-blog/assets/js/31.977ccbdd.js"><link rel="prefetch" href="/vuepress-blog/assets/js/32.767609f9.js"><link rel="prefetch" href="/vuepress-blog/assets/js/33.44891ea8.js"><link rel="prefetch" href="/vuepress-blog/assets/js/34.f516ab0b.js"><link rel="prefetch" href="/vuepress-blog/assets/js/35.151a5daf.js"><link rel="prefetch" href="/vuepress-blog/assets/js/36.ece446f9.js"><link rel="prefetch" href="/vuepress-blog/assets/js/37.37735106.js"><link rel="prefetch" href="/vuepress-blog/assets/js/38.45a9e8b8.js"><link rel="prefetch" href="/vuepress-blog/assets/js/39.0fcd7dcc.js"><link rel="prefetch" href="/vuepress-blog/assets/js/4.ecf7f9e8.js"><link rel="prefetch" href="/vuepress-blog/assets/js/40.621682ab.js"><link rel="prefetch" href="/vuepress-blog/assets/js/41.d03d4354.js"><link rel="prefetch" href="/vuepress-blog/assets/js/42.edf41024.js"><link rel="prefetch" href="/vuepress-blog/assets/js/43.8cd60945.js"><link rel="prefetch" href="/vuepress-blog/assets/js/44.de2cd4e9.js"><link rel="prefetch" href="/vuepress-blog/assets/js/45.4fb41246.js"><link rel="prefetch" href="/vuepress-blog/assets/js/46.b26d762d.js"><link rel="prefetch" href="/vuepress-blog/assets/js/47.3bb572d2.js"><link rel="prefetch" href="/vuepress-blog/assets/js/48.dc6af168.js"><link rel="prefetch" href="/vuepress-blog/assets/js/49.9511edba.js"><link rel="prefetch" href="/vuepress-blog/assets/js/5.8cea2090.js"><link rel="prefetch" href="/vuepress-blog/assets/js/50.2e05304d.js"><link rel="prefetch" href="/vuepress-blog/assets/js/51.f72b0b54.js"><link rel="prefetch" href="/vuepress-blog/assets/js/52.1650a6e6.js"><link rel="prefetch" href="/vuepress-blog/assets/js/53.36c638aa.js"><link rel="prefetch" href="/vuepress-blog/assets/js/54.5931bcf4.js"><link rel="prefetch" href="/vuepress-blog/assets/js/55.f48c6b88.js"><link rel="prefetch" href="/vuepress-blog/assets/js/56.6d799974.js"><link rel="prefetch" href="/vuepress-blog/assets/js/57.0abda071.js"><link rel="prefetch" href="/vuepress-blog/assets/js/58.e4e2e95d.js"><link rel="prefetch" href="/vuepress-blog/assets/js/59.fc9cc726.js"><link rel="prefetch" href="/vuepress-blog/assets/js/6.5b653d91.js"><link rel="prefetch" href="/vuepress-blog/assets/js/60.d0cdc48d.js"><link rel="prefetch" href="/vuepress-blog/assets/js/61.e663cede.js"><link rel="prefetch" href="/vuepress-blog/assets/js/62.1b3ef15b.js"><link rel="prefetch" href="/vuepress-blog/assets/js/63.b17e2bda.js"><link rel="prefetch" href="/vuepress-blog/assets/js/64.3b7bc255.js"><link rel="prefetch" href="/vuepress-blog/assets/js/65.bb24c420.js"><link rel="prefetch" href="/vuepress-blog/assets/js/7.fcec5877.js"><link rel="prefetch" href="/vuepress-blog/assets/js/vendors~docsearch.a0f89813.js">
    <link rel="stylesheet" href="/vuepress-blog/assets/css/0.styles.631b7830.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuepress-blog/" class="home-link router-link-active"><!----> <span class="site-name">Happyblog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vuepress-blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/vuepress-blog/miniVue2/" class="nav-link">
  mini-Vue2 文档
</a></div><div class="nav-item"><a href="/vuepress-blog/performance/" class="nav-link">
  性能优化
</a></div><div class="nav-item"><a href="/vuepress-blog/chat/" class="nav-link router-link-active">
  前端杂谈
</a></div><div class="nav-item"><a href="https://github.com/Nwu23787/mini-Vue2" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vuepress-blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/vuepress-blog/miniVue2/" class="nav-link">
  mini-Vue2 文档
</a></div><div class="nav-item"><a href="/vuepress-blog/performance/" class="nav-link">
  性能优化
</a></div><div class="nav-item"><a href="/vuepress-blog/chat/" class="nav-link router-link-active">
  前端杂谈
</a></div><div class="nav-item"><a href="https://github.com/Nwu23787/mini-Vue2" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>前端杂谈</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-blog/chat/浏览器指纹.html" class="sidebar-link">浏览器指纹</a></li><li><a href="/vuepress-blog/chat/浏览器中 ESModule 的工作原理.html" class="sidebar-link">浏览器中 ESModule 的工作原理</a></li><li><a href="/vuepress-blog/chat/浏览器中的事件循环.html" class="sidebar-link">浏览器中的事件循环</a></li><li><a href="/vuepress-blog/chat/资源提示符.html" class="sidebar-link">资源提示符</a></li><li><a href="/vuepress-blog/chat/node模块查找策略.html" class="sidebar-link">node模块查找策略</a></li><li><a href="/vuepress-blog/chat/requestAnimationFrame.html" class="sidebar-link">requestAnimationFrame</a></li><li><a href="/vuepress-blog/chat/WebView 入门.html" class="sidebar-link">WebView 入门</a></li><li><a href="/vuepress-blog/chat/CSS 属性值的计算.html" class="active sidebar-link">CSS 属性值的计算</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-blog/chat/CSS 属性值的计算.html#css-属性值计算" class="sidebar-link">CSS 属性值计算</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/chat/CSS 属性值的计算.html#层叠" class="sidebar-link">层叠</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/chat/CSS 属性值的计算.html#继承和默认值" class="sidebar-link">继承和默认值</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/chat/CSS 属性值的计算.html#总结" class="sidebar-link">总结</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/chat/CSS 属性值的计算.html#推荐阅读" class="sidebar-link">推荐阅读</a></li></ul></li><li><a href="/vuepress-blog/chat/浏览器渲染原理.html" class="sidebar-link">浏览器渲染原理</a></li><li><a href="/vuepress-blog/chat/跨标签页通信的方案与实践（上）.html" class="sidebar-link">跨标签页通信的方案与实践（上）</a></li><li><a href="/vuepress-blog/chat/跨标签页通信的方案与实践（下）.html" class="sidebar-link">跨标签页通信的方案与实践（下）</a></li><li><a href="/vuepress-blog/chat/Web Worker 简介.html" class="sidebar-link">Web Worker 简介</a></li><li><a href="/vuepress-blog/chat/渲染中的分层与合成.html" class="sidebar-link">渲染中的分层与合成</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="css-属性值的计算过程"><a href="#css-属性值的计算过程" class="header-anchor">#</a> CSS 属性值的计算过程</h1> <h2 id="css-属性值计算"><a href="#css-属性值计算" class="header-anchor">#</a> CSS 属性值计算</h2> <p>CSS 中，每一个属性最终都要计算出最终的值，即使我们没有设置这个属性值，它依然是拥有值的。</p> <p>比如我们对于一个 div，只设置宽高和背景颜色：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
        <span class="token selector">.main</span><span class="token punctuation">{</span>
            <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
            <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
            <span class="token property">background-color</span><span class="token punctuation">:</span> #995959<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>main<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>我们在控制台中的 computed 中查看其最终计算出的样式：</p> <img src="/vuepress-blog/assets/img/Snipaste_2024-07-31_15-53-48.b0b6c915.png" style="zoom:67%;"> <p>可以看到，除了我们设置的属性值，div 依然具有其他很多属性值。实际上，这个 div 的每一个 CSS 属性都是有值的，这些值都是通过一系列的计算，被计算出来的。</p> <p>CSS 属性的计算，分为两步：</p> <ul><li>层叠</li> <li>继承和默认值</li></ul> <h2 id="层叠"><a href="#层叠" class="header-anchor">#</a> 层叠</h2> <p>层叠规则，是用来解决<strong>样式表中声明值之间冲突的问题</strong>。当样式表的声明值之间有冲突时，就会采用层叠规则来计算属性值。</p> <p><em>CSS</em> 是 <em>Cascading Style Sheets</em> 的缩写，这暗示**层叠（<em>cascade</em>）**的概念是很重要的。</p> <p>在<strong>最基本的层面</strong>上，它表明 <em>CSS</em> 规则的顺序很重要，但它比那更复杂。</p> <p>我们来看 <a href="https://www.w3.org/TR/css-cascade-4/#cascading" target="_blank" rel="noopener noreferrer">W3C<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 对层叠的定义：</p> <blockquote><p>The cascade takes an unordered list of declared values for a given property on a given element, sorts them by their declaration’s precedence as determined below, and outputs a single cascaded value.</p></blockquote> <p>大意是：<strong>该层叠将获取给定元素上给定属性的声明值的无序列表，按声明的优先级对它们进行排序，并输出单个层叠值</strong>。</p> <p>CSS 层叠是一种<strong>算法</strong>，浏览器通过它来决定<strong>将哪些 CSS 样式规则应用到一个元素上</strong>。</p> <p>什么选择器在层叠中胜出取决于三个因素（这些都是<strong>按重量级顺序</strong>排列的，<strong>前面的的一种会否决后一种</strong>）：</p> <ul><li>来源和重要性（<em>Importance</em>）</li> <li>专用性（<em>Specificity</em>）</li> <li>源代码次序（<em>Source order</em>）</li></ul> <h3 id="来源和重要性"><a href="#来源和重要性" class="header-anchor">#</a> 来源和重要性</h3> <h4 id="来源"><a href="#来源" class="header-anchor">#</a> 来源</h4> <p>CSS 样式的声明值来源主要有三个地方：</p> <ul><li><strong>作者样式表（Author Stylesheet）</strong>：前端开发人员编写的样式表，这也是我们能够控制元素样式的唯一方式。</li> <li><strong>用户样式表（User Stylesheet）</strong>：浏览器用户自己定义的样式表，每个用户都可以定义自己的样式表，用于覆盖开发人员编写的样式表，以获得定制化的体验。</li> <li><strong>用户代理样式表（User  Agent Stylesheet）</strong>：浏览器自带的一组 CSS 样式，其实就是浏览器的默认样式表。</li></ul> <p>不同的样式表的权重不同，默认情况下，<strong>作者样式表 &gt; 用户样式表 &gt; 用户代理样式表</strong></p> <p>此时你可能就会有疑问了，用户样式表不是用来覆盖开发人员的作者样式表的吗？结果用户样式表的权重比开发人员样式表的权重还低，这怎么覆盖呢？</p> <p>别急，这就要提到重要性这个概念了。</p> <h4 id="重要性"><a href="#重要性" class="header-anchor">#</a> 重要性</h4> <p>所谓的重要性，即 <code>!important</code>。当在一个样式声明中使用一个 <code>!important</code> 规则时，此声明将覆盖任何其他声明。<code>!important</code> <strong>与优先级无关</strong>，但它与最终的结果直接相关。</p> <p>当多个样式表中同时使用了 <code>!important</code> 时，其优先级顺序为：</p> <p><strong>用户代理样式表的 <code>!important</code> &gt; 用户样式表的 <code>!important</code> &gt; 作者样式表的 <code>!important</code></strong></p> <p>可以发现，和没有 <code>!important</code> 的层叠顺序完全相反。</p> <h4 id="层叠顺序"><a href="#层叠顺序" class="header-anchor">#</a> 层叠顺序</h4> <p>在执行层叠算法时，可以根据来源和重要性划分出 6 个<strong>层叠层</strong>：</p> <ol><li><p>首先过滤来着不同样式表的所以样式规则，保留要应用到元素上的那些规则</p></li> <li><p>按照来源和重要性对这些规则进行排序，重要性规则（1-6 升序）：</p> <table><thead><tr><th style="text-align:left;">来源</th> <th style="text-align:left;">重要程度</th> <th></th></tr></thead> <tbody><tr><td style="text-align:left;">1</td> <td style="text-align:left;">用户代理</td> <td>普通</td></tr> <tr><td style="text-align:left;">2</td> <td style="text-align:left;">用户</td> <td>普通</td></tr> <tr><td style="text-align:left;">3</td> <td style="text-align:left;">页面作者</td> <td>普通</td></tr> <tr><td style="text-align:left;">4</td> <td style="text-align:left;">页面作者</td> <td><code>!important</code></td></tr> <tr><td style="text-align:left;">5</td> <td style="text-align:left;">用户</td> <td><code>!important</code></td></tr> <tr><td style="text-align:left;">6</td> <td style="text-align:left;">用户代理</td> <td><code>!important</code></td></tr></tbody></table></li> <li><p>如果说层叠层中有多个样式规则，则优先级高者胜出</p></li></ol> <blockquote><p>​		<strong>层的优先权始终高于选择器的优先级</strong>。具有优先权的层中的样式“胜出”于具有较低优先权的层。<strong>输掉的层中选择器的优先级是无关紧要的</strong>。在层内竞争的属性值的优先级仍然会受到注意，但是在层之间没有优先级的问题，因为每个属性对应的最高优先权层才会被考虑。</p></blockquote> <h3 id="专用性-优先级"><a href="#专用性-优先级" class="header-anchor">#</a> 专用性（优先级）</h3> <p>CSS 优先级的英文原词为 <strong>Specificity</strong>，直译过来是 “独特性，具体性” 的意思，也可以理解为专用性，MDN 翻译为 <strong><code>优先级</code></strong>。所谓专用性，其实就是<strong>衡量选择器的具体程度</strong>的一种办法，或者说，<strong>衡量一个选择器能匹配多少元素</strong>。</p> <p><strong>如果一个选择器能匹配的元素较多，那么我们就可以说他的专用性较低，反之则较高。</strong></p> <p>一般来说，元素选择器可匹配到的元素最多，所以其专用性最低，也就是优先级最低。类选择器的专用性高于元素选择器，而 ID 选择器又高于类选择器，所以，选择器的优先级顺序为（1-3 升序）：</p> <ol><li><strong>元素选择器、伪元素选择器</strong></li> <li><strong>类选择器、伪类选择器、属性选择器</strong></li> <li><strong>ID 选择器</strong></li></ol> <p>需要注意的是：<strong>通配符选择器（*）、关系选择器（&gt;、+）对优先级没有任何影响</strong></p> <p>计算优先级的方式采用一个四位数字：</p> <ol><li>千位：当出现行内样式（style 属性）时，千位加 1</li> <li>百位：每出现一个 ID 选择器时，百位加 1</li> <li>十位：每出现一个类选择器、伪类选择器、属性选择器时，十位加 1</li> <li>个位：每出现一个元素选择器、伪元素选择器时，个位加一</li></ol> <p>最后计算出数字，<strong>数字大者优先级高</strong>。</p> <p>需要格外注意，这个数字并不是十进制数字，不能进位。也就是说，即使百分位累计到 10，也不能向千分位进位。另外，只要高位上有值，无论多少，一定高于低位。</p> <p>举例来说：</p> <p><strong><code>1 0 0 0</code> 是大于  <code>0 10000 0 0</code></strong> 的，即使后者的百分位高达 <code>10000</code></p> <p><strong>无论累积多少低级选择器，其优先级也无法高于高级别的选择器。</strong></p> <h3 id="源代码次序"><a href="#源代码次序" class="header-anchor">#</a> 源代码次序</h3> <p><strong>当选择器优先级仍然相等时，根据规则在源代码中的次序来确定使用哪条规则。</strong></p> <p><strong>在源代码中靠后书写的样式规则的次序高于靠前书写的规则。</strong></p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">p</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token selector">p</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>一般我们习惯性的会说：靠后的样式会覆盖靠前的样式规则，但这样说其实是不准确的，<strong>两个样式其实都会被应用到该元素中</strong>，只不过靠前的样式规则被靠后的规则层叠掉了而已。</p> <p>打开浏览器控制台，我们可以看到 red 规则仍然存在，不过被划上了横线，也就意味该样式未被采用：</p> <p><img src="data:image/png;base64,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" alt=""></p> <h2 id="继承和默认值"><a href="#继承和默认值" class="header-anchor">#</a> 继承和默认值</h2> <p><strong>当属性没有声明值时，会采取继承和默认值的方式计算属性值。</strong></p> <p>在 CSS 中，<strong>每个</strong>属性都具有一个初始值，其实也就是 CSS 属性的<strong>默认值</strong>。在 CSS 规范中，都对每个属性的初始值做出了相关的定义。比如<code>text-align</code> 的初始值是 <code>left</code>，<code>display</code> 的初始值是 <code>inline</code>。</p> <p>另外，每个 CSS 属性在定义时都指出了这个属性是默认继承的还是默认不继承的，当元素的一个继承属性没有指定值时，则取父元素的同属性的值。</p> <p>继承有四种方式，以下是常用的两种</p> <h3 id="initial"><a href="#initial" class="header-anchor">#</a> initial</h3> <blockquote><p>如果层叠值是 <code>initial</code> 关键词，则属性的初始值将成为其指定值</p></blockquote> <p>也就是说，如果我们显式声明一个属性为 <code>initial</code>，那么这个值就会取 CSS 的默认值。</p> <h3 id="inherit"><a href="#inherit" class="header-anchor">#</a> <strong>inherit</strong></h3> <blockquote><p>如果层叠值是 <code>initial</code> 关键词，无论该属性是否为可继承属性，都会<strong>强制</strong>该属性继承父元素相同的属性值。</p></blockquote> <h2 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h2> <ol><li><strong>收集所有样式表中的样式规则</strong></li> <li><strong>根据来源（样式表）和重要性确定层叠层的顺序</strong></li> <li><strong>若层叠顺序相同，则比较优先级（专用性），优先级高的样式规则会层叠掉优先级低的规则</strong></li> <li><strong>若没有声明值，或声明了使用继承/默认值，则采用继承或默认值。</strong></li></ol> <h2 id="推荐阅读"><a href="#推荐阅读" class="header-anchor">#</a> 推荐阅读</h2> <ul><li><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/Cascade" target="_blank" rel="noopener noreferrer">CSS 层叠 - CSS：层叠样式表 | MDN (mozilla.org)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p><a href="https://developer.mozilla.org/zh-CN/docs/Learn/CSS/Building_blocks/Cascade_and_inheritance" target="_blank" rel="noopener noreferrer">层叠、优先级与继承 - 学习 Web 开发 | MDN (mozilla.org)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p><a href="https://developer.mozilla.org/zh-CN/docs/Learn/CSS/Building_blocks/Cascade_layers" target="_blank" rel="noopener noreferrer">层叠层 - 学习 Web 开发 | MDN (mozilla.org)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/vuepress-blog/chat/WebView 入门.html" class="prev">
        WebView 入门
      </a></span> <span class="next"><a href="/vuepress-blog/chat/浏览器渲染原理.html">
        浏览器渲染原理
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/vuepress-blog/assets/js/app.f8677ea4.js" defer></script><script src="/vuepress-blog/assets/js/2.32f56e5c.js" defer></script><script src="/vuepress-blog/assets/js/1.a930a345.js" defer></script><script src="/vuepress-blog/assets/js/29.155d9866.js" defer></script>
  </body>
</html>
